<div *ngIf="authService.isLoggedIn(); else notLoggedIn" class="mr-3 ml-3">
  <h2 class="mt-4">Lista empleados</h2>
  <button class="btn btn-warning mb-3 " routerLink="/registrar-empleado"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-person-plus-fill" viewBox="0 0 16 16">
    <path d="M1 14s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1zm5-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6"/>
    <path fill-rule="evenodd" d="M13.5 5a.5.5 0 0 1 .5.5V7h1.5a.5.5 0 0 1 0 1H14v1.5a.5.5 0 0 1-1 0V8h-1.5a.5.5 0 0 1 0-1H13V5.5a.5.5 0 0 1 .5-.5"/>
  </svg> A√±adir Empleado</button>
  <input type="text" class="search-input" id="searchInput" oninput="toggleSearch()" placeholder="Buscar...">
  <button class="search-button">
    <span class="search-icon">üîç</span>
  </button>
  <div class="table-responsive">
    <table class="table table-striped">
      <thead class="table-dark">
        <tr>
          <th>Nombre</th>
          <th>Apellido</th>
          <th>Email</th>
          <th>Usuario</th>
          <th>Roles</th>
          <th>Acciones</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let empleado of empleados">
          <td>{{empleado.nombre}}</td>
          <td>{{empleado.apellidos}}</td>
          <td>{{empleado.email}}</td>
          <td>{{empleado.username}}</td>
          <td>{{empleado.role}}</td> <!-- Mostrar roles como una lista separada por comas -->
          <td class="d-flex">
            <button (click)="verEmpleado(empleado.id)" class="btn btn-info mr-2"><i class="bi bi-eye"></i> Ver</button>
            <button (click)="actualizarEmpleado(empleado.id)" class="btn btn-warning mr-2"><i class="bi bi-pencil-square"></i> Editar</button>
            <button (click)="eliminarEmpleado(empleado.id)" class="btn btn-danger"><i class="bi bi-trash3"></i> Borrar</button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</div>

<ng-template #notLoggedIn>
  <div class="alert alert-warning mt-4" role="alert">
    Debes iniciar sesi√≥n para ver la lista de empleados.
  </div>
</ng-template>
