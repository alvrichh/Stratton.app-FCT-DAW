<div *ngIf="authService.isLoggedIn(); else notLoggedIn" class="mr-3 ml-3">
  <h2 class="mt-4">Lista empleados</h2>
  <div class="table-responsive">
    <table class="table table-striped">
      <thead class="table-dark">
        <tr>
          <th>Nombre</th>
          <th>Apellido</th>
          <th>Email</th>
          <th>Usuario</th>
          <th>Roles</th>
          <th>Acciones</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let empleado of empleados">
          <td>{{empleado.nombre}}</td>
          <td>{{empleado.apellidos}}</td>
          <td>{{empleado.email}}</td>
          <td>{{empleado.username}}</td>
          <td>{{empleado.role}}</td> <!-- Mostrar roles como una lista separada por comas -->
          <td class="d-flex">
            <button (click)="verEmpleado(empleado.id)" class="btn btn-info mr-2"><i class="bi bi-eye"></i> Ver</button>
            <button (click)="actualizarEmpleado(empleado.id)" class="btn btn-warning mr-2"><i class="bi bi-pencil-square"></i> Editar</button>
            <button (click)="eliminarEmpleado(empleado.id)" class="btn btn-danger"><i class="bi bi-trash3"></i> Borrar</button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</div>

<ng-template #notLoggedIn>
  <div class="alert alert-warning mt-4" role="alert">
    Debes iniciar sesi√≥n para ver la lista de empleados.
  </div>
</ng-template>
